import{_ as c,d as F,C as r,b as u,o as g,w as l,G as p,a as d,u as C,p as m,j as t,Z as v,t as f,c as x,aC as _}from"./chunks/framework.C5eHArkT.js";import{t as B,a as A}from"./chunks/theme.pU9KYNEM.js";const D=F({name:"SpecialSelect",setup(){const{isDark:i}=C(),s=m(null);return{isDark:i,selectedValue:s,theme:B,handleSelectChange:E=>{const e=E.label,n=E.value;A.info(`${e[0].children}+${n}`),console.log("Selected value changed:",e,n)}}}});function b(i,s,a,E,e,n){const h=r("a-select-option"),k=r("a-select"),o=r("a-config-provider");return g(),u(o,{theme:{algorithm:i.isDark?i.theme.darkAlgorithm:i.theme.defaultAlgorithm}},{default:l(()=>[p(k,{value:i.selectedValue,"onUpdate:value":s[0]||(s[0]=y=>i.selectedValue=y),placeholder:"同时获取select的value与label","label-in-value":!0,onChange:i.handleSelectChange},{default:l(()=>[p(h,{key:"1",value:"option1"},{default:l(()=>s[1]||(s[1]=[d("选项1")])),_:1}),p(h,{key:"2",value:"option2"},{default:l(()=>s[2]||(s[2]=[d("选项2")])),_:1}),p(h,{key:"3",value:"option3"},{default:l(()=>s[3]||(s[3]=[d("选项3")])),_:1})]),_:1},8,["value","onChange"])]),_:1},8,["theme"])}const S=c(D,[["render",b],["__scopeId","data-v-f0f88eba"]]),K={name:"TreeSelect",data(){return{selectValue:null,treeExpandedKeys:[],sysIndList:[{title:"Node 1",value:"0-0",key:"0-0",children:[{title:"Node 1-1",value:"0-0-0",key:"0-0-0",children:[{title:"Node 1-1-1",value:"0-0-0-0",key:"0-0-0-0"},{title:"Node 1-1-2",value:"0-0-0-1",key:"0-0-0-1"}]},{title:"Node 1-2",value:"0-0-1",key:"0-0-1",children:[{title:"Node 1-2-1",value:"0-0-1-0",key:"0-0-1-0"},{title:"Node 1-2-2",value:"0-0-1-1",key:"0-0-1-1"}]}]},{title:"Node 2",value:"0-1",key:"0-1",children:[{title:"Node 2-1",value:"0-1-0",key:"0-1-0"},{title:"Node 2-2",value:"0-1-1",key:"0-1-1"}]}]}},methods:{toggleExpand(i){const s=this.treeExpandedKeys.findIndex(a=>a===i);s===-1?this.treeExpandedKeys.push(i):this.treeExpandedKeys.splice(s,1)},onTreeExpand(i){this.treeExpandedKeys=i}}},q=["onClick"];function N(i,s,a,E,e,n){const h=r("a-tree-select");return g(),u(h,{style:{width:"100%"},showSearch:"","tree-node-filter-prop":"label",value:e.selectValue,"onUpdate:value":s[0]||(s[0]=k=>e.selectValue=k),"tree-data":e.sysIndList,allowClear:"",treeExpandedKeys:e.treeExpandedKeys,onTreeExpand:n.onTreeExpand,placeholder:"点击父节点文字展开子节点"},{title:l(({title:k,key:o})=>[t("span",{onClick:v(y=>n.toggleExpand(o),["stop"])},f(k),9,q)]),_:1},8,["value","tree-data","treeExpandedKeys","onTreeExpand"])}const T=c(K,[["render",N]]),$=JSON.parse('{"title":"select","description":"","frontmatter":{"title":"select","date":"2024-10-24T14:26:05.000Z"},"headers":[],"relativePath":"frontend/ant/select.md","filePath":"frontend/ant/select.md"}'),V={name:"frontend/ant/select.md"},P=Object.assign(V,{setup(i){return(s,a)=>(g(),x("div",null,[a[0]||(a[0]=t("h2",{id:"同时打印标题和值",tabindex:"-1"},[d("同时打印标题和值 "),t("a",{class:"header-anchor",href:"#同时打印标题和值","aria-label":'Permalink to "同时打印标题和值"'},"​")],-1)),a[1]||(a[1]=t("p",null,':label-in-value="true"',-1)),p(S),a[2]||(a[2]=t("h2",{id:"treeselect-点击文字展开子节点",tabindex:"-1"},[d("treeSelect 点击文字展开子节点 "),t("a",{class:"header-anchor",href:"#treeselect-点击文字展开子节点","aria-label":'Permalink to "treeSelect 点击文字展开子节点"'},"​")],-1)),a[3]||(a[3]=t("p",null,"效果：",-1)),p(T),a[4]||(a[4]=_(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a-tree-select</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;width: 100%&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    showSearch</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    tree-node-filter-prop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;label&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    v-model:value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;selectValue&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    :tree-data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sysIndList&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    allowClear</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    :treeExpandedKeys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;treeExpandedKeys&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @treeExpand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;onTreeExpand&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ title, key }</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @click.stop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;toggleExpand(key)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ title }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a-tree-select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> methods</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      toggleExpand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 点击节点标题时，切换展开状态</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> idx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.treeExpandedKeys.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (idx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.treeExpandedKeys.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果未展开，则添加到展开数组</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.treeExpandedKeys.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">splice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(idx, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果已展开，则移除</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      onTreeExpand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(expandedKeys) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 同步 treeExpandedKeys 的状态</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.treeExpandedKeys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expandedKeys;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span></code></pre></div>`,2))]))}});export{$ as __pageData,P as default};
